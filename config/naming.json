{
  "_comment": "Naming rules for shelfr. See docs/NAMING_PLAN.md for details.",
  "_version": "1.7.0",
  "title_subtitle_normalization": {
    "_comment": "Fix Audible's inconsistent title/subtitle swaps using seriesPrimary as source of truth.",
    "enabled": true,
    "log_swaps": true
  },
  "series_name_cleaning": {
    "_comment": "Clean series names during normalization (before folder naming pipeline).",
    "enabled": true,
    "inherit_the_prefix": {
      "_comment": "If title starts with 'The ' but series doesn't, add 'The ' to series. Requires series name to appear in title.",
      "enabled": true
    }
  },
  "author_roles": {
    "_comment": "Non-author roles to filter from author lists. Names with these suffixes are not primary authors.",
    "match_mode": "suffix",
    "case_sensitive": false,
    "roles": [
      "translator",
      "illustrator",
      "editor",
      "adapter",
      "contributor",
      "compiler"
    ],
    "credit_roles": [
      "afterword",
      "foreword",
      "introduction",
      "cover design",
      "cover art"
    ]
  },
  "format_indicators": {
    "_comment": "Remove from titles, subtitles, series. Case-insensitive, whole phrase.",
    "match_mode": "phrase",
    "case_sensitive": false,
    "phrases": [
      "(Light Novel)",
      "(light novel)",
      "Light Novel",
      "(Manga)",
      "(Graphic Novel)",
      "(Unabridged)",
      "Unabridged",
      "(Audiobook)",
      "Audiobook"
    ]
  },
  "genre_tags": {
    "_comment": "Remove genre tags from titles/subtitles. Case-insensitive, typically suffix.",
    "match_mode": "phrase",
    "case_sensitive": false,
    "phrases": [
      "A LitRPG Adventure",
      "LitRPG Adventure",
      "A LitRPG",
      "An Isekai LitRPG",
      "A Fantasy Adventure",
      "A Sci-Fi Light Novel",
      "A Sci-Fi Adventure",
      "A Novel",
      "A GameLit Novel",
      "A Cultivation Novel",
      "A Progression Fantasy Epic",
      "A Slice-of-Life Urban Fantasy",
      "A Progression Fantasy",
      "An Urban Fantasy",
      ": A LitRPG Adventure",
      ": A Fantasy Adventure",
      "A Xianxia Cultivation Novel",
      "A Xianxia Novel",
      "- A Slice of Life Harem LitRPG",
      "- A Slice-of-Life Urban Fantasy"
    ]
  },
  "series_suffixes": {
    "_comment": "Remove from series names only. Regex patterns, end-anchored.",
    "match_mode": "regex",
    "case_sensitive": false,
    "patterns": [
      "[\\s\u2014-]?[Ss]eries$",
      "[\\s\u2014-]?[Tt]rilogy$",
      "[\\s\u2014-]?[Ss]aga$",
      "[\\s\u2014-]?[Cc]hronicles$",
      "\\s*\\([Ll]ight [Nn]ovel\\)$",
      "\\s+[Ll]ight [Nn]ovel$",
      "\\s+[Ll]ight [Nn]ovel [Ss]eries$",
      "\\s*\\[[^\\]]*[Oo]rder\\]$",
      "\\s*\\((?:Publication|Reading|Chronological|Release)\\s*Order\\)$",
      "\\s+Book$"
    ]
  },
  "publisher_tags": {
    "_comment": "Remove publisher cruft sometimes embedded in titles.",
    "match_mode": "phrase",
    "case_sensitive": false,
    "phrases": [
      "[Yen Audio]",
      "[J-Novel Club]",
      "[Seven Seas]",
      "(Yen Audio)",
      "(J-Novel Club)",
      "(Seven Seas)"
    ]
  },
  "subtitle_patterns": {
    "_comment": "Two-tier subtitle handling. Remove known garbage patterns, preserve useful content. Based on analysis of 1,295 books.",
    "remove_if_matches_series": true,
    "remove_patterns": [
      "^[Ll]ight [Nn]ovel$",
      "^[Aa]? ?[Nn]ovel$",
      "^[Uu]nabridged$",
      "^Vol\\. \\d+$",
      "^[Aa] LitRPG(?: Adventure)?$",
      "^[Aa] LitRPG/Gamelit Adventure$",
      "^[Aa] (?:Slice[- ]of[- ]Life )?(?:Harem )?LitRPG(?: Epic)?$",
      "^[Aa] (?:Summoner )?Fantasy LitRPG$",
      "^[Aa] Progression(?: Fantasy| LitRPG| LitRPG Epic)?$",
      "^[Aa] (?:Slice[- ]of[- ]Life )?(?:Fantasy|Urban Fantasy)(?: Adventure)?$",
      "^[Aa] Thriller$",
      "^[Aa] Drizzt Novel$",
      "^[Aa] Hunger Games Novel$",
      "^[Aa] Xianxia(?: Cultivation)?(?: Novel)?$",
      "^[Aa] Cultivation(?: Novel)?$",
      "^[Aa]n? Isekai(?: LitRPG| Adventure| Novel)?$",
      "^[Aa] GameLit(?: Adventure| Novel)?$",
      "^From Hero-King to Extraordinary Squire[\\s-]*$"
    ],
    "keep_patterns": [
      ".*[Aa]ria.*",
      ".*[Cc]hronicle.*",
      ".*[Pp]rogressive.*",
      ".*[Aa]incrad.*",
      ".*[Ff]airy [Dd]ance.*",
      ".*[Pp]hantom [Bb]ullet.*"
    ]
  },
  "subtitle_redundancy_rules": {
    "_comment": "Drop subtitle if it only repeats series/title + book number. Use {{series}} and {{title}} as placeholders. Skip rules with {{series}} if series is empty.",
    "enabled": true,
    "rules": [
      {
        "id": "series_book",
        "description": "Subtitle is just 'Series, Book N'",
        "pattern_template": "^{{series}},?\\s*Book\\s*\\d+$",
        "action": "drop_subtitle"
      },
      {
        "id": "series_volume",
        "description": "Subtitle is just 'Series, Vol/Volume N'",
        "pattern_template": "^{{series}},?\\s*Vol(?:ume)?\\.?\\s*\\d+$",
        "action": "drop_subtitle"
      },
      {
        "id": "title_book",
        "description": "Subtitle is just 'Title, Book N'",
        "pattern_template": "^{{title}},?\\s*Book\\s*\\d+$",
        "action": "drop_subtitle"
      },
      {
        "id": "series_in_parens",
        "description": "Subtitle contains '(Series, Book N)' - strip the parens part, keep the rest",
        "pattern_template": "\\({{series}},?\\s*Book\\s*\\d+\\)$",
        "action": "strip_match"
      },
      {
        "id": "series_suffix_book",
        "description": "Subtitle is 'Series Series, Book N' (series name + 'Series' suffix)",
        "pattern_template": "^{{series}}\\s*Series,?\\s*Book\\s*\\d+$",
        "action": "drop_subtitle"
      },
      {
        "id": "series_omnibus",
        "description": "Subtitle is 'Series, Books N-M' (omnibus/box set)",
        "pattern_template": "^{{series}},?\\s*Books?\\s*\\d+-\\d+$",
        "action": "drop_subtitle"
      },
      {
        "id": "series_vol_in_parens",
        "description": "Subtitle contains '(Series, Vol N)' - strip the parens part, keep the rest",
        "pattern_template": "\\({{series}},?\\s*Vol(?:ume)?\\.?\\s*\\d+\\)$",
        "action": "strip_match"
      }
    ]
  },
  "preserve_exact": {
    "_comment": "Titles that bypass ALL cleaning rules. Case-sensitive, exact match.",
    "case_sensitive": true,
    "titles": [
      "Re:ZERO",
      "86--EIGHTY-SIX",
      "Sword Art Online: Progressive",
      "Is It Wrong to Try to Pick Up Girls in a Dungeon?"
    ]
  },
  "author_map": {
    "_comment": "Foreign name -> Romanized name. Case-sensitive, exact match.",
    "\u732b\u5b50": "Necoco",
    "\u30ea\u30e5\u30fc\u30c8": "Ryuto",
    "\u8d64\u4e95\u307e\u3064\u308a": "Matsuri Akai",
    "\u304f\u307e\u306a\u306e": "Kumanano",
    "\u7406\u4e0d\u5c3d\u306a\u5b6b\u306e\u624b": "Rifujin na Magonote",
    "\u308a\u3085\u3046\u305b\u3093\u3072\u308d\u3064\u3050": "Ryusen Hirotsugu",
    "\u4e00\u8272\u4e00\u51db": "Isshiki Ichirin",
    "\u4e09\u5d8b\u4e0e\u5922": "Mishima Yomu",
    "\u4e94\u793a\u6b63\u53f8": "Goji Shoji",
    "\u6a58 \u7531\u83ef": "Tachibana Yuka",
    "\u6faa\u4e9c": "Mio-A"
  },
  "preserve_in_json": {
    "_comment": "Patterns kept in MAM JSON but normalized/removed from folder/file names.",
    "volume_patterns": [
      "Vol\\. \\d+",
      "Volume \\d+",
      "Book \\d+"
    ]
  }
}
